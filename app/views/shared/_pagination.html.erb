<nav aria-label="Page navigation">
  <ul class="pagination">

    <%# Botão Anterior %>
    <% if current_page > 1 %>
      <li class="page-item">
        <%= link_to 'Anterior', path.call(current_page - 1), class: 'page-link' %>
      </li>
    <% else %>
      <li class="page-item disabled">
        <span class="page-link">Anterior</span>
      </li>
    <% end %>

    <% window = 2 %>
    <% left = [current_page - window, 1].max %>
    <% right = [current_page + window, total_pages].min %>

    <%# Primeira página + "..." se necessário %>
    <% if left > 1 %>
      <li class="page-item">
        <%= link_to 1, path.call(1), class: 'page-link' %>
      </li>
      <% if left > 2 %>
        <li class="page-item disabled"><span class="page-link">…</span></li>
      <% end %>
    <% end %>

    <%# Páginas do intervalo %>
    <% (left..right).each do |p| %>
      <li class="page-item <%= 'active' if p == current_page %>">
        <%= link_to p, path.call(p), class: 'page-link' %>
      </li>
    <% end %>

    <%# Última página + "..." se necessário %>
    <% if right < total_pages %>
      <% if right < total_pages - 1 %>
        <li class="page-item disabled"><span class="page-link">…</span></li>
      <% end %>
      <li class="page-item">
        <%= link_to total_pages, path.call(total_pages), class: 'page-link' %>
      </li>
    <% end %>

    <%# Botão Próximo %>
    <% if current_page < total_pages %>
      <li class="page-item">
        <%= link_to 'Próximo', path.call(current_page + 1), class: 'page-link' %>
      </li>
    <% else %>
      <li class="page-item disabled">
        <span class="page-link">Próximo</span>
      </li>
    <% end %>

  </ul>
</nav>
