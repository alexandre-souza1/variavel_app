<div class="bg-light min-vh-100">
  <div class="container py-4">
    <!-- Card Principal -->
    <div class="card shadow-lg rounded-4 border-0">
      <!-- Cabeçalho do Card -->
      <div class="card-header bg-primary text-white rounded-top-4 py-3">
        <div class="d-flex justify-content-between align-items-center">
          <h1 class="h4 mb-0 fw-bold">
            <i class="fas fa-car me-2"></i>Detalhes da Autonomia
          </h1>
          <%= link_to autonomies_path, class: "btn btn-sm btn-light" do %>
            <i class="fas fa-arrow-left me-1"></i> Voltar para lista
          <% end %>
        </div>
      </div>

      <div class="card-body p-4">
        <div class="row g-3 mb-4">
          <!-- Informações Básicas -->
          <div class="col-md-6">
            <div class="mb-3">
              <h2 class="h5 fw-bold text-primary mb-3">Informações do Colaborador</h2>
              <div class="d-flex align-items-center mb-2">
                <span class="badge bg-secondary me-2"><i class="fas fa-id-card"></i></span>
                <div>
                  <small class="text-muted">Matrícula</small>
                  <p class="mb-0 fw-bold"><%= @autonomy.registration %></p>
                </div>
              </div>

              <% if @autonomy.user.present? %>
                <div class="d-flex align-items-center mb-2">
                  <span class="badge bg-secondary me-2"><i class="fas fa-user"></i></span>
                  <div>
                    <small class="text-muted">Nome</small>
                    <p class="mb-0 fw-bold"><%= @autonomy.user.nome %></p>
                  </div>
                </div>
              <% end %>
            </div>
          </div>

          <div class="col-md-6">
            <h2 class="h5 fw-bold text-primary mb-3">Detalhes do Serviço</h2>

            <div class="d-flex align-items-center mb-2">
              <span class="badge bg-secondary me-2"><i class="fas fa-cog"></i></span>
              <div>
                <small class="text-muted">Tipo de Equipamento</small>
                <p class="mb-0 fw-bold"><%= @autonomy.equipment_type %></p>
              </div>
            </div>

            <div class="d-flex align-items-center mb-2">
              <span class="badge bg-secondary me-2"><i class="fas fa-tools"></i></span>
              <div>
                <small class="text-muted">Tipo de Serviço</small>
                <p class="mb-0 fw-bold"><%= @autonomy.service_type %></p>
              </div>
            </div>

            <div class="d-flex align-items-center mb-2">
              <span class="badge bg-secondary me-2"><i class="fas fa-car-alt"></i></span>
              <div>
                <small class="text-muted">Placa</small>
                <p class="mb-0 fw-bold"><%= @autonomy.plate %></p>
              </div>
            </div>
          </div>

          <!-- Relato -->
          <div class="col-12">
            <div class="card bg-light mb-3">
              <div class="card-header bg-light border-bottom">
                <h3 class="h6 fw-bold text-primary mb-0">
                  <i class="fas fa-clipboard me-2"></i>Relato
                </h3>
              </div>
              <div class="card-body">
                <p class="mb-0"><%= @autonomy.report %></p>
              </div>
            </div>
          </div>

          <!-- Evidência -->
          <div class="col-12">
            <div class="card bg-light">
              <div class="card-header bg-light border-bottom">
                <h3 class="h6 fw-bold text-primary mb-0">
                  <i class="fas fa-camera me-2"></i>Evidência
                </h3>
              </div>
              <div class="card-body text-center">
                <% if @autonomy.evidence.attached? %>
                  <%= image_tag @autonomy.evidence, class: "img-fluid rounded-3", style: "max-height: 500px;" %>
                <% else %>
                  <div class="alert alert-warning mb-0">
                    <i class="fas fa-exclamation-circle me-2"></i>Nenhuma evidência foi anexada
                  </div>
                <% end %>
              </div>
            </div>
          </div>

          <!-- Metadados -->
          <div class="col-12 mt-4">
            <div class="d-flex justify-content-between align-items-center text-muted small">
              <div>
                <span class="me-3">
                  <i class="fas fa-calendar-alt me-1"></i>
                  Criado em: <%= l(@autonomy.created_at, format: :long) %>
                </span>
                <% if @autonomy.created_at != @autonomy.updated_at %>
                  <span>
                    <i class="fas fa-sync-alt me-1"></i>
                    Atualizado em: <%= l(@autonomy.updated_at, format: :long) %>
                  </span>
                <% end %>
              </div>

              <div>
                <%= link_to edit_autonomy_path(@autonomy), class: "btn btn-sm btn-outline-primary me-2" do %>
                  <i class="fas fa-edit me-1"></i> Editar
                <% end %>

                <%= button_to autonomy_path(@autonomy), method: :delete,
                    data: { confirm: "Tem certeza que deseja excluir esta autonomia?" },
                    class: "btn btn-sm btn-outline-danger" do %>
                  <i class="fas fa-trash-alt me-1"></i> Excluir
                <% end %>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Rodapé do Card -->
      <div class="card-footer bg-light rounded-bottom-4 py-3">
        <small class="text-muted">Detalhes de autonomia - <%= Date.today.strftime("%d/%m/%Y") %></small>
      </div>
    </div>
  </div>
</div>
